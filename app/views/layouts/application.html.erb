<%= render 'layouts/head' %>

<%
contentspan = content_for?(:left) ? 'span9' : 'span12'
%>

<body class="<%= content_for?(:right) or content_for?(:left) ? 'twoColumn' : 'oneColumn' %> <%= yield(:body_class) %>">

  <div id="overlay">
    <%= yield :overlay %>
  </div>

    <div class="body">
    <!-- Container -->
    <div class="container">

      <%= yield :top %>

      <%= render 'layouts/header' %>

      <div class="page">
        <div class="row">
          <% if breadcrumbs.items.size > 1 %>
            <div id="breadcrumb">
              <%= breadcrumbs.render %>
            </div>
            <!-- /Breadcrumb -->
          <% end %>
          
          <% if content_for?(:left) %>
            <div class="span3">
              <aside id="left">
                <%= yield :left %>
              </aside>
            </div>
            <!-- /aside left -->
          <% end %>

          <div class="<%= contentspan %>">
            <section id="content">
              <%= render 'layouts/messages' %>
                <%= yield %>
            </section>
          </div>
          <!-- /Content -->

          <% if content_for?(:right) %>
            <div class="span3">
              <aside id="right">
                <%= yield :right %>
              </aside>
            </div>
            <!-- /aside right -->
          <% end %>
        </div>
      </div>
      <!-- /Page -->

      <%= render 'layouts/footer' %>

    </div>
    <!-- /Container -->
  </div>

  <%= yield :bottom %>

  <%#= debug(request) if Rails.env.development? %>
  <%#= debug(session) if Rails.env.development? %>
  <%#= debug(params) if Rails.env.development? %>

  <%= render 'shared/analytics' if Rails.env.production? %>
</body>
</html>
