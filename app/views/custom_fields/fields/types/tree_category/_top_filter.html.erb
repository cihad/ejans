<table>
  <tr>
  <% field.levels.each_with_index do |level, i| %>
    <td>
      <select id="<%= i %>" name="<%= field.form_machine_names[i] %>" class="span2">
        <option value="">Se√ßiniz</option>
        <% level.each do |category| %>
          <option value="<%= category.id %>" class="<%= category.parent_id unless i == 0 %>" <%= "selected" if category.id.to_s == params["#{field.form_machine_names[i]}"] %>><%= category.name %></option>
        <% end %>
      </select>
    </td>
  <% end %>
  </tr>
</table>

<% javascript 'jquery-plugins/jquery.chained' %>
<%= javascript_tag do %>
  <% (field.levels.size - 1).times do |i| %>
    $("tree_category_<%= field.field.id %>_#<%= i+1 %>").chained("#tree_category_<%= field.field.id %>_<%= i %>");
  <% end %>
<% end %>